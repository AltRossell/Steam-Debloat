<Window x:Class="SteamDebloat.UpdateDialogWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Update Check"
        Height="280"
        Width="480"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        WindowStyle="None"
        Background="Transparent"
        AllowsTransparency="True">
    
    <Border Background="#2C2C2E" 
            CornerRadius="12"
            BorderBrush="#48484A"
            BorderThickness="1">
        
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Content -->
            <StackPanel Grid.Row="0" 
                        Margin="32,28,32,24">
                
                <!-- Icon -->
                <Ellipse x:Name="IconCircle"
                         Width="56" 
                         Height="56"
                         Fill="#0A84FF"
                         HorizontalAlignment="Center"
                         Margin="0,0,0,18"/>
                
                <!-- Icon Path -->
                <Grid Width="56" Height="56" 
                      HorizontalAlignment="Center"
                      Margin="0,-74,0,18">
                    <Path x:Name="IconPath"
                          Data="M12,2 L15,8 L22,9 L17,14 L18,21 L12,18 L6,21 L7,14 L2,9 L9,8 Z"
                          Fill="White"
                          Width="28"
                          Height="28"
                          Stretch="Uniform"
                          HorizontalAlignment="Center"
                          VerticalAlignment="Center"/>
                </Grid>
                
                <!-- Title -->
                <TextBlock x:Name="TitleText"
                           Text="Checking for Updates"
                           FontSize="22"
                           FontWeight="Bold"
                           Foreground="White"
                           HorizontalAlignment="Center"
                           Margin="0,0,0,12"/>
                
                <!-- Message -->
                <TextBlock x:Name="MessageText"
                           Text="Please wait..."
                           FontSize="14"
                           Foreground="#98989D"
                           TextWrapping="Wrap"
                           TextAlignment="Center"
                           HorizontalAlignment="Center"
                           LineHeight="22"/>
            </StackPanel>

            <!-- Buttons -->
            <Border Grid.Row="1" 
                    Background="#1C1C1E"
                    CornerRadius="0,0,12,12" 
                    Padding="24,16,24,16"
                    BorderBrush="#38383A"
                    BorderThickness="0,1,0,0">
                
                <StackPanel x:Name="ButtonPanel"
                            Orientation="Horizontal" 
                            HorizontalAlignment="Center">
                    
                    <!-- Cancel Button (for checking state) -->
                    <Button x:Name="CancelButton"
                            Content="Cancel"
                            Width="110"
                            Height="36"
                            Margin="0,0,12,0"
                            Visibility="Collapsed"
                            Click="CancelButton_Click"
                            Background="#3A3A3C"
                            Foreground="White"
                            BorderThickness="0"
                            FontSize="13"
                            FontWeight="Medium"
                            Cursor="Hand">
                        <Button.Resources>
                            <Style TargetType="Border">
                                <Setter Property="CornerRadius" Value="8"/>
                            </Style>
                        </Button.Resources>
                    </Button>
                    
                    <!-- Primary Button (OK/Download) -->
                    <Button x:Name="PrimaryButton"
                            Content="OK"
                            Width="140"
                            Height="36"
                            Click="PrimaryButton_Click"
                            Background="#0A84FF"
                            Foreground="White"
                            BorderThickness="0"
                            FontSize="13"
                            FontWeight="SemiBold"
                            Cursor="Hand">
                        <Button.Resources>
                            <Style TargetType="Border">
                                <Setter Property="CornerRadius" Value="8"/>
                            </Style>
                        </Button.Resources>
                    </Button>
                </StackPanel>
            </Border>
        </Grid>
    </Border>
</Window>